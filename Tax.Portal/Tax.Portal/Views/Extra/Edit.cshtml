@model Tax.Portal.Models.ExtraViewModel
@using Tax.Portal.Models;
@using Tax.MvcGlobalisationSupport;

<style type="text/css">
    .modal-dialog {
        width: 400px; /* your width */
        height: auto;
    }
</style>

<div class="modal fade bs-modal-sm" id="warningmodal" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header" style="color:orange">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">WARNING</h4>
            </div>
            <div class="modal-body" style="color:orange">
                <p id="warningtext" style="text-align:center"></p>
            </div>
            <div class="modal-footer">
                <div class="text-center text-center">
                    <input type="button" class="btn btn-warning" data-dismiss="modal" value=" OK " />
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div>
</div>

<div class="modal fade bs-modal-sm" id="errormodal" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header" style="color:red">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">ERROR</h4>
            </div>
            <div class="modal-body" style="color:red">
                <p id="errortext" style="text-align:center"></p>
            </div>
            <div class="modal-footer">
                <div class="text-center text-center">
                    <input type="button" class="btn btn-danger" data-dismiss="modal" value=" OK " />
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div>
</div>

@using (Html.BeginForm(MVC.Extra.Edit(), FormMethod.Post, new { @id = "main", @class = "form-horizontal", @role = "form", @style = "padding-top:0px; margin-top: 35px;" }))
{
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.Mode)
    @Html.HiddenFor(m => m.NewsStatusName)         
                                 
    @Html.ValidationSummary()                                 
    <div class="row">
        <div class="col-sm-4 col-xs-12">
            <div class="form-group">
                <div class="col-sm-12 col-xs-12">
                    @Html.LabelFor(m => m.Title1, new { @class = "control-label" })<span style="font-size:15px; font-weight:bold; color:red"> *</span>
                    <div class="input-group col-sm-12 col-xs-12">
                        @Html.TextBoxFor(m => m.Title1, new { @class = "form-control", placeholder = "Type here title1" })
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12">
                    @Html.LabelFor(m => m.Title2, new { @class = "control-label" })
                    <div class="input-group col-sm-12 col-xs-12">
                        @Html.TextBoxFor(m => m.Title2, new { @class = "form-control", placeholder = "Type here title2" })
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12">
                    @Html.LabelFor(m => m.Subtitle, new { @class = "control-label" })
                    <div class="input-group col-sm-12 col-xs-12">
                        @Html.TextBoxFor(m => m.Subtitle, new { @class = "form-control", placeholder = "Type here subtitle" })
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12">
                    @Html.LabelFor(m => m.CategoryId, new { @class = "control-label" })<span style="font-size:15px; font-weight:bold; color:red"> *</span>
                    <div class="input-group col-sm-12 col-xs-12">
                        @Html.DropDownListFor(m => m.CategoryId, new SelectList(Model.CategoryToList, "Value", "Text", Model.CategoryId), new { @class = "form-control" })
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12">
                    @Html.LabelFor(m => m.Order, new { @class = "control-label" })<span style="font-size:15px; font-weight:bold; color:red"> *</span>
                    <div class="input-group col-sm-12 col-xs-12">
                        @Html.TextBoxFor(m => m.Order, new { @class = "form-control", placeholder = "Type here order" })
                    </div>
                </div>
                <div class="col-sm-12 col-xs-12" style="padding-top:30px">
                    <span><b style="font-size:15px; color:red"> * required field</b></span>
                </div>
            </div>
        </div>
        <div class="col-sm-8 col-xs-12">
            <div class="form-group">
                <div class="col-sm-12 col-xs-12">
                    @Html.LabelFor(m => m.Body_text, new { @style = "padding-top:7px; margin-bottom:0px" })<span style="font-size:15px; font-weight:bold; color:red"> *</span>
                    <div class="input-group col-sm-12 col-xs-12">
                        @Html.TextAreaFor(m => m.Body_text, new { @id = "ckeditor_text", @style = "visibility:hidden" })
                    </div>
                </div>
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/Scripts/jquery")
    @Scripts.Render("~/Scripts/bootstrap")
    @*<link href="~/Scripts/ckeditor/contents.css" rel="stylesheet" />*@
    <script src="~/Scripts/ckeditor/ckeditor.js"></script>

    <script type="text/javascript">
        //közös a view, ezért magic
        if ($('#Mode').val() == "create")
        {
            $('#main').attr('action', $('#actUrl').val());
        }
        //visszalépési irány
        $('#Back').attr('onclick', 'document.location.href = "@Url.Action(MVC.Extra.Index())"');        

        //repül a ckeditor
        CKEDITOR.replace('ckeditor_text', {
            height: 400,
            language: 'en',
            toolbar: [
                { name: 'document', groups: ['mode', 'document', 'doctools'], items: ['Source', '-', 'Templates'] },
                { name: 'basicstyles', groups: ['basicstyles'], items: ['Bold', 'Italic', 'Underline'] },
                { name: 'paragraph', groups: ['list', 'align'], items: ['NumberedList', 'BulletedList', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock'] },
                { name: 'links', items: ['Link', 'Unlink'] },
                { name: 'insert', items: ['Image', 'Table'] },
                //{ name: 'styles', items: ['Styles', 'Format'] }
                { name: 'styles', items: ['Format'] }
            ]
        });
        CKEDITOR.config.format_tags = 'p;h1;h2';

        //gombok a headerben
        $("#CallBack").hide().css({ visibility: "hidden" });
        $("#Publish").hide().css({ visibility: "hidden" });
        $("#Back").show().css({ visibility: "visible" });
        $("#Save").show().css({ visibility: "visible" });

    </script>
}
